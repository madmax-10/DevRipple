# Specifies the version of the choreo.yaml schema.
version: v1

# Defines the components in your project.
components:
  -
    # The name of your component. This must match the component name in the Choreo UI.
    name: "backend"
    
    # Specifies the type of the component. For a DRF app, this is "service".
    type: "service"

    # --- Build Configuration ---
    build:
      # The directory containing your source code relative to the repository root.
      # Choreo will run 'pip install -r requirements.txt' from within this directory.      
      # The buildpack to use. For Django, this should be "python".
      buildPack: "python"
      
      # The command to start your application. This replaces the old 'runtime' block.
      # IMPORTANT: Make sure the project name 'backend.wsgi' is correct.
      # It should be the name of the folder inside your 'backend' source directory
      # that contains the wsgi.py file.
      startUpCommand: ["gunicorn", "backend.wsgi", "--bind", "0.0.0.0:8000"]

    # --- Network Configuration ---
    endpoints:
      # Exposes port 8000 for your API to receive traffic.
      - port: 8000
